<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Testing &mdash; Intel® Geti™ SDK v1.0.4 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api_reference.html" />
    <link rel="prev" title="Development and pull requests" href="contributing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Intel® Geti™ SDK
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html#getting-started">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html#supported-features">Supported features</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks.html">Notebooks</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contributing_to_the_sdk.html">Contributing to the SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Development and pull requests</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pre-merge-test-suite">Pre-merge test suite</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#integration-tests">Integration tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unit-tests">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nightly-test-suite">Nightly test suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-tests">Running the tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#test-modes">Test modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-tests-in-a-non-default-mode">Running the tests in a non-default mode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Intel® Geti™ SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="contributing_to_the_sdk.html">Contributing to the SDK</a> &raquo;</li>
      <li>Testing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/testing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="testing">
<h1>Testing<a class="headerlink" href="#testing" title="Permalink to this heading"></a></h1>
<p>This directory contains the test suite for the Intel® Geti™ SDK. The tests are grouped
into two categories:</p>
<ol class="arabic simple">
<li><p><strong>Pre-merge tests</strong> These are executed for every Pull Request to the Intel® Geti™
SDK <code class="docutils literal notranslate"><span class="pre">main</span></code> branch. The suite contains both integration and unit tests, the main focus
being the integration tests. The test code can be found in
the <span class="xref myst">pre-merge</span> folder.</p></li>
<li><p><strong>Nightly tests</strong> These tests are executed for the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch every night at
midnight (Amsterdam time). The nightly tests are end-to-end style tests, covering
everything from project creation to local inference through model deployment. The
test code can be found in the <span class="xref myst">nightly</span> directory.</p></li>
</ol>
<section id="pre-merge-test-suite">
<h2>Pre-merge test suite<a class="headerlink" href="#pre-merge-test-suite" title="Permalink to this heading"></a></h2>
<section id="integration-tests">
<h3>Integration tests<a class="headerlink" href="#integration-tests" title="Permalink to this heading"></a></h3>
<p>The integration tests for the SDK leverage the recording of HTTP requests and responses,
relying on the VCR.py package. All integration tests are defined in the
<span class="xref myst">pre-merge/integration</span> directory. By default, the tests are run
in offline mode, meaning that no actual Intel® Geti™ server is needed and no real
http requests are being made during testing. All requests are intercepted, and a
previously recorded response is returned. The recorded interactions can be found in
<span class="xref myst">fixtures/cassettes</span>.</p>
</section>
<section id="unit-tests">
<h3>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this heading"></a></h3>
<p>The SDK unit tests are defined in the <span class="xref myst">pre-merge/unit</span> directory. The
tests are not designed to provide full coverage by themselves, but should be run in
conjunction with the integration tests. At this moment the unit tests focus on testing
exception flows (as opposed to happy flow) for methods that are hard to test via
integration testing.</p>
</section>
</section>
<section id="nightly-test-suite">
<h2>Nightly test suite<a class="headerlink" href="#nightly-test-suite" title="Permalink to this heading"></a></h2>
<p>The nightly tests are defined in the <span class="xref myst">nightly</span> directory. They can only be run in
<code class="docutils literal notranslate"><span class="pre">ONLINE</span></code> mode, meaning that a live Intel® Geti™ server is required to run against them. The
nightly tests need to be run using a <code class="docutils literal notranslate"><span class="pre">online.ini</span></code> file that contains the host name and
login details for the Intel® Geti™ server to run the tests against (see section
<a class="reference internal" href="#running-the-tests"><span class="std std-doc">Running the tests</span></a> below).</p>
</section>
<section id="running-the-tests">
<h2>Running the tests<a class="headerlink" href="#running-the-tests" title="Permalink to this heading"></a></h2>
<p>First, install the requirements for the test suite using
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements/requirements-dev.txt</span></code>. Then, run the tests using
<code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">./tests/pre-merge</span></code>, or
(optionally) enable coverage using <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">--cov=geti_sdk</span> <span class="pre">./tests/pre-merge</span></code>.</p>
<section id="test-modes">
<h3>Test modes<a class="headerlink" href="#test-modes" title="Permalink to this heading"></a></h3>
<p>By default, the integration tests are executed in <code class="docutils literal notranslate"><span class="pre">OFFLINE</span></code> mode. In addition, they
can be run in <code class="docutils literal notranslate"><span class="pre">ONLINE</span></code> or <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> mode. The simplest way to change modes is to
define a custom pytest configuration file for each mode, as explained below:</p>
<section id="online-mode">
<h4>Online mode<a class="headerlink" href="#online-mode" title="Permalink to this heading"></a></h4>
<p>If you want to run the test suite against a live Intel® Geti™ server (for example to make sure
that the SDK data models are still up to date with the Intel® Geti™ REST contracts), the tests
can be executed in <code class="docutils literal notranslate"><span class="pre">ONLINE</span></code> mode. To do so, define a file <code class="docutils literal notranslate"><span class="pre">online.ini</span></code> in the <code class="docutils literal notranslate"><span class="pre">tests</span></code>
directory. This file should have similar content to the existing <code class="docutils literal notranslate"><span class="pre">offline.ini</span></code>, but
with the Intel® Geti™ server hostname and login details set appropriately:</p>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>pytest<span class="o">]</span>
<span class="nv">env</span> <span class="o">=</span>
  <span class="nv">TEST_MODE</span><span class="o">=</span>ONLINE
  <span class="nv">GETI_USERNAME</span><span class="o">=</span>your_username
  <span class="nv">GETI_PASSWORD</span><span class="o">=</span>your_password
  <span class="nv">GETI_HOST</span><span class="o">=</span>https://your_geti_instance.com
</pre></div>
</div>
</div></blockquote>
</section>
<section id="record-mode">
<h4>Record mode<a class="headerlink" href="#record-mode" title="Permalink to this heading"></a></h4>
<p>If you have added a new test that makes HTTP requests, all cassettes should be deleted
and re-recorded to maintain consistency across the recorded responses. This can be done
by running the tests in <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> mode. The easiest way to do this is to create a file
<code class="docutils literal notranslate"><span class="pre">record.ini</span></code> with the same contents as the <code class="docutils literal notranslate"><span class="pre">online.ini</span></code> file above, but set
<code class="docutils literal notranslate"><span class="pre">TEST_MODE=RECORD</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ONLINE</span></code>.</p>
<blockquote>
<div><p><strong>WARNING</strong>: Running the test suite in <code class="docutils literal notranslate"><span class="pre">ONLINE</span></code> or <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> mode will increase the
time required for test execution considerably.</p>
</div></blockquote>
</section>
</section>
<section id="running-the-tests-in-a-non-default-mode">
<h3>Running the tests in a non-default mode<a class="headerlink" href="#running-the-tests-in-a-non-default-mode" title="Permalink to this heading"></a></h3>
<p>Once you created the custom <code class="docutils literal notranslate"><span class="pre">online.ini</span></code> or <code class="docutils literal notranslate"><span class="pre">record.ini</span></code> configurations, you can run
the tests using <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">-c</span> <span class="pre">online.ini</span> <span class="pre">./pre-merge</span></code>. This will execute the tests in
online mode.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contributing.html" class="btn btn-neutral float-left" title="Development and pull requests" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api_reference.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 Intel Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>